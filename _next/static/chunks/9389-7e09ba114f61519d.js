"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9389],{5369:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(95155);t(12115);var a=t(35695);function n(e){let{filteredData:r,currentPage:t,totalPages:n}=e,s=(0,a.useRouter)();return(0,o.jsx)(o.Fragment,{children:r.length>0&&(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)("div",{className:"flex justify-center items-center space-x-2",children:(0,o.jsx)("div",{className:"flex space-x-1",children:Array.from({length:n},(e,r)=>r+1).map(e=>(0,o.jsx)("button",{onClick:()=>s.push("?page=".concat(e)),className:"w-8 h-8 flex items-center justify-center rounded-md ".concat(Number(t)===e?"bg-[#0d6fdc] text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:e},e))})}),(0,o.jsxs)("p",{className:"text-sm text-gray-500 mt-2 text-center",children:["Mostrando ",Math.min(4,r.slice((t-1)*4,4*t).length)," de ",r.length," contactos"]})]})})}},9572:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},17607:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},31670:(e,r,t)=>{t.d(r,{A:()=>o});let o=t(49509).env.NEXT_PUBLIC_API_URL_PROD},35695:(e,r,t)=>{var o=t(18999);t.o(o,"usePathname")&&t.d(r,{usePathname:function(){return o.usePathname}}),t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(r,{useSearchParams:function(){return o.useSearchParams}})},49404:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]])},50172:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},55988:(e,r,t)=>{t.d(r,{A:()=>c});var o=t(31670),a=t(79971);let n="".concat(o.A,"/api"),s=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={path:"/",maxAge:86400,sameSite:"lax",...t};if("user"===e&&r&&"object"==typeof r){let t={id:r.id,name:r.name,email:r.email};(0,a.setCookie)(e,JSON.stringify(t),o);return}if("empleado"===e&&r&&"object"==typeof r){let t={id_empleado:r.id_empleado,nombre:r.nombre,apellido:r.apellido,email:r.email};(0,a.setCookie)(e,JSON.stringify(t),o);return}let n="object"==typeof r?JSON.stringify(r):r;(0,a.setCookie)(e,n,o)},i={register:async e=>{try{let r=await fetch("".concat(n,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();if(!r.ok)throw Error(t.message||"Error en el registro");return t.user&&(0,a.setCookie)("user",JSON.stringify(t.user),{maxAge:86400}),t}catch(e){return console.error("Error en registro:",e),{error:!0,message:e.message}}},login:async e=>{try{let r=await fetch("".concat(n,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();if(!r.ok)throw Error(t.message||"Error en la autenticaci\xf3n");return s("token",t.token),s("user",t.user),t.empleado&&s("empleado",t.empleado),t.rol&&s("rol",t.rol),t.permisos&&s("permisos",t.permisos),t}catch(e){throw console.error("Error en login:",e),e}},logout:async()=>{try{let e=(0,a.getCookie)("token");if(!e)return{success:!0};let r=await fetch("".concat(n,"/logout"),{method:"POST",headers:{authorization:"Bearer ".concat(e)}}),t=await r.json();if(!r.ok)throw Error(t.message||"Error al cerrar sesi\xf3n");return i.clearAuthCookies(),t}catch(e){return console.error("Error en logout:",e),i.clearAuthCookies(),{error:!0,message:e.message}}},me:async()=>{try{let e=(0,a.getCookie)("token");if(!e)return null;let r=await fetch("".concat(n,"/me"),{method:"GET",headers:{authorization:"Bearer ".concat(e)}}),t=await r.json();if(!r.ok)throw 401===r.status&&i.clearAuthCookies(),Error(t.message||"Error al obtener informaci\xf3n del usuario");return t.user&&s("user",t.user),t.empleado&&s("empleado",t.empleado),t.rol&&s("rol",t.rol),t.permisos&&s("permisos",t.permisos),t}catch(e){return console.error("Error al obtener informaci\xf3n del usuario:",e),{error:!0,message:e.message}}},logoutClient:e=>{i.clearAuthCookies(),e&&e.push("/login")},clearAuthCookies:()=>{(0,a.deleteCookie)("token"),(0,a.deleteCookie)("user"),(0,a.deleteCookie)("empleado"),(0,a.deleteCookie)("rol"),(0,a.deleteCookie)("permisos")},getCurrentUser:()=>{let e=(0,a.getCookie)("user");try{if(e)return"string"==typeof e?JSON.parse(e):e;return null}catch(e){return console.error("Error parsing user cookie:",e),null}},getCurrentEmpleado:()=>{let e=(0,a.getCookie)("empleado");try{if(e)return"string"==typeof e?JSON.parse(e):e;return null}catch(e){return console.error("Error parsing empleado cookie:",e),null}},getCurrentRole:()=>(0,a.getCookie)("rol")||null,getCurrentPermissions:()=>{let e=(0,a.getCookie)("permisos");try{return e?JSON.parse(e):[]}catch(e){return[]}},getToken:()=>(0,a.getCookie)("token"),hasRole:e=>{let r=i.getCurrentRole();return!!r&&r.toLowerCase()===e.toLowerCase()},hasPermission:e=>i.getCurrentPermissions().includes(e),hasAnyPermission:e=>{let r=i.getCurrentPermissions();return e.some(e=>r.includes(e))},isAdmin:()=>i.hasRole("administrador"),isAuthenticated:()=>!!(0,a.getCookie)("token"),refreshAuthData:async()=>await i.me(),isVerifiedAccount:()=>{let e=i.getCurrentUser();return(null==e?void 0:e.email)==="tmlighting@hotmail.com"}},c=i},67554:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},68718:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},75074:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},77223:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91919:(e,r,t)=>{t.d(r,{A:()=>u});var o=t(31670),a=t(79971),n=t(55988),s=t(24752),i=t.n(s);let c="".concat(o.A,"/api"),l=e=>403===e.status&&(i().fire({icon:"error",title:"Acceso denegado",text:"No tienes los permisos necesarios para realizar esta acci\xf3n.",confirmButtonColor:"#6f4be8"}),!0),u={userByPage:async e=>await fetch("".concat(c,"?page=").concat(e),{method:"GET",headers:{authorization:"Bearer ".concat((0,a.getCookie)("token"))}}),create:async e=>{try{let r=await fetch("".concat(c),{method:"POST",body:e,headers:{authorization:"Bearer ".concat((0,a.getCookie)("token"))}});if(!r.ok)return{status:r.status,error:!0};return await r.json()}catch(e){return console.error("Error al crear usuario:",e),{status:500,error:!0,message:e.message}}},userById:async e=>{try{let r=await fetch("".concat(c,"/").concat(e),{method:"GET",headers:{authorization:"Bearer ".concat((0,a.getCookie)("token"))}});if(!r.ok)return{status:r.status,error:!0};return await r.json()}catch(e){return console.error("Error al obtener usuario por ID:",e),{error:!0,message:e.message}}},update:async(e,r)=>await fetch("".concat(c,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat((0,a.getCookie)("token"))},body:JSON.stringify(e)}),updatePass:async(e,r)=>await fetch("".concat(c,"/pass/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat((0,a.getCookie)("token"))},body:JSON.stringify(e)}),delete:async e=>{try{let r=await fetch("".concat(c,"/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat((0,a.getCookie)("token"))}});if(l(r))return{error:!0,status:403};if(!r.ok)return{status:r.status,error:!0};return await r.json()}catch(e){return console.error("Error al eliminar usuario:",e),{error:!0,message:e.message}}},logoutServer:async()=>await fetch("".concat(c,"/logout"),{method:"GET",headers:{authorization:"Bearer ".concat((0,a.getCookie)("token"))}}),logoutClient:e=>{n.A.logoutClient(e)}}}}]);