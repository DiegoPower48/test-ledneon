(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2596],{1840:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},1920:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},3492:(e,t,a)=>{Promise.resolve().then(a.bind(a,7776))},7776:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(5155),l=a(100),s=a(2046),i=a(2115),o=a(9119),n=a(4752),c=a.n(n),d=a(5695),m=a(9971),u=a(1145),x=a(172),g=a(3350),p=a(1386),h=a(7223),b=a(6491),f=a(9311),j=a(1920),y=a(1840),w=a(8376);function N(e){let{formCommendBody:t,setFormCommendBody:a,formInfoBody:l,setFormInfoBody:s,formEncabezadoBody:o,setFormEncabezadoBody:n,formGaleryBody:c,setFormGaleryBody:d,setFileBodyHeader:m,setFileBodyFile1:u,setFileBodyFile2:N,setValidacionBody:v}=e,[_,S]=(0,i.useState)(!0),[F,A]=(0,i.useState)(!0),[B,k]=(0,i.useState)(!0),[C,E]=(0,i.useState)(!0),[D,T]=(0,i.useState)(!0),[O,V]=(0,i.useState)(!0),[I,M]=(0,i.useState)(!0),[z,K]=(0,i.useState)(!0),[L,H]=(0,i.useState)(!0),[G,R]=(0,i.useState)(!0),[P,q]=(0,i.useState)(!0),[U,W]=(0,i.useState)(!0),[J,Q]=(0,i.useState)(!0),[X,Y]=(0,i.useState)({titulo:{message:"Debe tener entre 10 y 50 caracteres",isValid:null},texto1:{message:"Debe tener entre 10 y 150 caracteres",isValid:null},texto2:{message:"Debe tener entre 10 y 150 caracteres",isValid:null},texto3:{message:"Debe tener entre 10 y 150 caracteres",isValid:null},descripcion:{message:"Debe tener entre 10 y 400 caracteres",isValid:null}}),[Z,$]=(0,i.useState)(!1),ee=e=>t=>{let{name:a,value:r}=t.target,l=!0;switch(a){case"titulo":S(l=r.trim().length>=10&&r.length<=50),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"descripcion":A(l=r.trim().length>=10&&r.length<=400),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto1":k(l=r.trim().length>=10&&r.length<=150),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto2":E(l=r.trim().length>=10&&r.length<=150),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto3":T(l=r.trim().length>=10&&r.length<=150),Y(e=>({...e,[a]:{...e[a],isValid:l}}))}_&&F&&B&&C&&D&&O&&I&&z&&L&&G&&P&&U&&J?v(!0):v(!1),e(e=>({...e,[a]:r}))},et=e=>{let{error:t}=e;return(0,r.jsx)("p",{className:"text-xs mt-1 ml-3 ".concat(null===t.isValid?"text-gray-400":t.isValid?"text-green-400":"text-red-500"),children:t.message})},[ea,er]=(0,i.useState)(l.map(()=>({titulo:{message:"Debe tener entre 10 y 50 caracteres",isValid:null},descripcion:{message:"Debe tener entre 10 y 400 caracteres",isValid:null}}))),el=(e,t,a)=>{let{value:r}=e.target,l=!0;switch(a){case"titulo":l=r.trim().length>=10&&r.length<=50,0===t?V(l):1===t?K(l):2===t?R(l):3===t&&W(l);break;case"descripcion":l=r.trim().length>=10&&r.length<=400,0===t?M(l):1===t?H(l):2===t?q(l):3===t&&Q(l)}_&&F&&B&&C&&D&&O&&I&&z&&L&&G&&P&&U&&J?v(!0):v(!1),s(e=>{let l=[...e];return l[t]={...l[t],[a]:r},l}),er(e=>{let r=[...e];return r[t]={...r[t],[a]:{...r[t][a],isValid:l}},r})},es=async e=>{let t=e.target.files[0];if(t)try{$(!0);let e=URL.createObjectURL(t);n(t=>({...t,public_image1:e})),m(t)}catch(e){console.error("Error al subir imagen:",e),Swal.fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al subir la imagen",confirmButtonColor:"#8c52ff"})}finally{$(!1)}},ei=async e=>{let t=e.target.files[0],a=e.target.name;if(t)try{$(!0);let e=URL.createObjectURL(t);d(t=>({...t,[a]:e})),"public_image2"===a?u(t):"public_image3"===a&&N(t)}catch(e){console.error("Error al subir imagen:",e),Swal.fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al subir la imagen",confirmButtonColor:"#8c52ff"})}finally{$(!1)}};return(0,r.jsxs)("div",{className:"relative text-black rounded-lg shadow-[0px_10px_25px_rgba(0,0,0,0.25)] flex flex-row my-5 justify-center",children:[(0,r.jsxs)("div",{className:"w-[700px]",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-900 to-purple-900 py-3 px-6 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center text-white",children:[(0,r.jsx)(j.A,{className:"w-4 h-4 mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:o.fecha})]}),(0,r.jsx)("div",{className:"flex space-x-1",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-white/70"},t))})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-indigo-100 to-transparent"}),(0,r.jsxs)("div",{className:"relative p-8 md:p-12 flex flex-col md:flex-row items-center",children:[(0,r.jsxs)("div",{className:"md:w-1/2 mb-8 md:mb-0 md:pr-8",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-indigo-900 leading-tight mb-6",children:o.titulo}),(0,r.jsx)("div",{className:"w-20 h-1 bg-gradient-to-r from-indigo-500 to-purple-500 mb-6"}),(0,r.jsx)("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.descripcion})]}),(0,r.jsx)("div",{className:"md:w-1/2 flex justify-center",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-3xl blur"}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("img",{src:o.public_image1,alt:o.titulo||"Imagen principal",className:"w-[22rem] h-[22rem] rounded-2xl shadow-lg object-cover relative "})}),(0,r.jsx)("div",{className:"absolute -top-3 -left-3 w-16 h-16 bg-purple-100 rounded-full z-0"})]})})]})]}),(0,r.jsxs)("div",{id:"content-details",className:"p-8 md:p-12 bg-gradient-to-b from-white to-indigo-50",children:[(0,r.jsxs)("div",{className:"mb-16",children:[(0,r.jsxs)("div",{className:"flex items-center mb-8",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-900 flex items-center justify-center text-white font-bold mr-3",children:"G"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-indigo-900",children:"Galer\xeda"}),(0,r.jsx)("div",{className:"h-px flex-grow bg-indigo-200 ml-4"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[c.public_image2||"/blog/blog-10.jpg",c.public_image3||"/blog/blog-1.jpg"].map((e,t)=>(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-xl shadow-lg",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-900/80 via-indigo-900/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsx)("img",{src:e.startsWith("http")?e:"".concat(e),alt:"Imagen ".concat(t+1," del art\xedculo"),className:"w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsx)("div",{className:"bg-white/90 px-4 py-2 rounded-lg shadow-lg",children:(0,r.jsx)(y.A,{className:"w-6 h-6 text-indigo-600"})})})]},t))})]}),(0,r.jsxs)("div",{className:"mb-16",children:[(0,r.jsxs)("div",{className:"flex items-center mb-8",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-600 flex items-center justify-center text-white font-bold mr-3",children:"C"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-green-600",children:t.titulo||"Consejos"}),(0,r.jsx)("div",{className:"h-px flex-grow bg-green-200 ml-4"})]}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-indigo-50 rounded-xl p-6 shadow-md",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t&&[t.texto1,t.texto2,t.texto3].filter(e=>e).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start p-4 bg-white rounded-lg shadow-sm border-l-4 border-green-500 hover:shadow-md transition-shadow",children:[(0,r.jsx)(w.A,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-0.5 mr-3"}),(0,r.jsx)("p",{className:"text-gray-700",children:e})]},"commend-".concat(t)))})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-8",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold mr-3",children:"I"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-blue-600",children:"Informaci\xf3n Detallada"}),(0,r.jsx)("div",{className:"h-px flex-grow bg-blue-200 ml-4"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -top-4 -left-4 w-16 h-16 bg-blue-100 rounded-full opacity-70"}),(0,r.jsx)("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-indigo-100 rounded-full opacity-70"}),(0,r.jsx)("div",{className:"relative",children:l&&l.map((e,t)=>{let a=t%2==0;return(0,r.jsxs)("div",{className:"mb-8 flex flex-col ".concat(a?"md:flex-row":"md:flex-row-reverse"," bg-white rounded-xl overflow-hidden shadow-md"),children:[(0,r.jsx)("div",{className:"md:w-1/3 bg-gradient-to-br ".concat(a?"from-blue-600 to-indigo-700":"from-indigo-700 to-purple-800"," p-6 flex items-center justify-center"),children:(0,r.jsx)("h3",{className:"text-2xl font-bold text-white text-center",children:e.titulo})}),(0,r.jsx)("div",{className:"md:w-2/3 p-6",children:(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.descripcion})})]},"tarjeta-".concat(t))})})]})]})]}),(0,r.jsx)("div",{className:"h-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-indigo-500"})]}),(0,r.jsxs)("div",{className:"w-[420px] flex flex-col justify-center gap-5 p-5",children:[(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 mt-24",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 mr-2 text-purple-400"})," T\xedtulo",(0,r.jsx)(et,{error:X.titulo})]}),(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:50,value:o.titulo,onChange:ee(n),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"T\xedtulo principal"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Fecha"]}),(0,r.jsx)("input",{type:"date",name:"fecha",value:o.fecha,onChange:ee(n),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Fecha"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(Z?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[Z?(0,r.jsx)(x.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-4.jpg"!==o.public_image1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"image",className:"hidden",onChange:es,disabled:Z})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{n(e=>({...e,public_image1:"/blog/blog-4.jpg"})),m(null)},className:"ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen principal",children:(0,r.jsx)(h.A,{className:"w-5 h-5 text-red-500"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(b.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Descripci\xf3n",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 400 caracteres"})]}),(0,r.jsx)("input",{name:"descripcion",value:o.descripcion,maxLength:400,onChange:ee(n),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Frase Secundaria"}),(0,r.jsx)(et,{error:X.descripcion})]})]})}),(0,r.jsx)("div",{className:"my-20 bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 mt-28",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Imagen 2",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"250x310 p\xedxeles"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(Z?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[Z?(0,r.jsx)(x.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-2.jpg"!==c.public_image2?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"public_image2",className:"hidden",onChange:ei,disabled:Z})]}),(0,r.jsx)("button",{type:"button",onClick:e.onDeleteBodyFile1,className:"ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen galeria 1",children:(0,r.jsx)(h.A,{className:"w-5 h-5 text-red-500"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Imagen 3",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"250x310 p\xedxeles"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(Z?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[Z?(0,r.jsx)(x.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-2.jpg"!==c.public_image3?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"public_image3",className:"hidden",onChange:ei,disabled:Z})]}),(0,r.jsx)("button",{type:"button",onClick:e.onDeleteBodyFile2,className:"ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen de galeria 2",children:(0,r.jsx)(h.A,{className:"w-5 h-5 text-red-500"})})]})]})]})}),(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 mr-2 text-purple-400"})," T\xedtulo",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 50 caracteres"})]}),(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:50,value:t.titulo,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"T\xedtulo principal"}),(0,r.jsx)(et,{error:X.titulo})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Texto1",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 150 caracteres"})]}),(0,r.jsx)("input",{type:"text",name:"texto1",maxLength:150,value:t.texto1,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"texto1"}),(0,r.jsx)(et,{error:X.texto1})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Texto2",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 150 caracteres"})]}),(0,r.jsx)("input",{type:"text",name:"texto2",maxLength:150,value:t.texto2,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"texto2"}),(0,r.jsx)(et,{error:X.texto2})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Texto3",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 150 caracteres"})]}),(0,r.jsx)("input",{type:"text",name:"texto3",maxLength:150,value:t.texto3,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"texto3"}),(0,r.jsx)(et,{error:X.texto3})]})]})}),(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,r.jsx)("form",{className:"space-y-6",children:l.map((e,t)=>{var a,l;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"pb-4",children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 mr-2 text-purple-400"})," T\xedtulo",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 50 caracteres"})]}),(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:50,value:e.titulo,onChange:e=>el(e,t,"titulo"),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"T\xedtulo principal"}),(0,r.jsx)(et,{error:(null==(a=ea[t])?void 0:a.titulo)||{isValid:null,message:""}})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 mr-2 text-purple-400"}),"Descripci\xf3n",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"M\xe1ximo 400 caracteres"})]}),(0,r.jsx)("textarea",{name:"descripcion",value:e.descripcion,maxLength:400,onChange:e=>el(e,t,"descripcion"),className:"w-full resize-none h-[100px] bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm",placeholder:"Descripci\xf3n"}),(0,r.jsx)(et,{error:(null==(l=ea[t])?void 0:l.descripcion)||{isValid:null,message:""}})]})]},t)})})})]})]})}let v=()=>{let e=(0,d.useRouter)(),[t,a]=(0,i.useState)(!1),[n,g]=(0,i.useState)(""),[p,h]=(0,i.useState)(""),[b,f]=(0,i.useState)(""),[j,y]=(0,i.useState)(""),[w,v]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),[F,A]=(0,i.useState)(""),[B,k]=(0,i.useState)(null),[C,E]=(0,i.useState)(null),[D,T]=(0,i.useState)(null),[O,V]=(0,i.useState)(null),[I,M]=(0,i.useState)(null),[z,K]=(0,i.useState)(null),[L,H]=(0,i.useState)(null),[G,R]=(0,i.useState)(null),[P,q]=(0,i.useState)(null),[U,W]=(0,i.useState)(null),[J,Q]=(0,i.useState)({titulo:"",texto1:"",texto2:"",texto3:"",texto4:"",texto5:""}),[X,Y]=(0,i.useState)([]),[Z,$]=(0,i.useState)({}),[ee,et]=(0,i.useState)({}),[ea,er]=(0,i.useState)(null),el=(0,d.useSearchParams)().get("id_blog"),[es,ei]=(0,i.useState)(!0),[eo,en]=(0,i.useState)(null),ec=(0,m.getCookie)("empleado")?JSON.parse((0,m.getCookie)("empleado")).id_empleado:-1,[ed,em]=(0,i.useState)(!1),[eu,ex]=(0,i.useState)(!1),[eg,ep]=(0,i.useState)(!1),[eh,eb]=(0,i.useState)(!1);async function ef(){try{ei(!0);let e=await u.A.fetchBlogById(el);if(e){R(e);let t=await u.A.fetchBlogHead(e.id_blog_head);if(t)g(t.public_image),q(t);else{en("No se pudo cargar la informacion del encabezado"),await c().fire({title:"Error",text:"No se pudo cargar la informacion del encabezado",icon:"error",confirmButtonText:"OK"});return}let a=await u.A.fetchBlogBodyById(e.id_blog_body);if(a)h(a.public_image1),f(a.public_image2),y(a.public_image3),W(a),et({titulo:a.titulo,descripcion:a.descripcion,public_image1:a.public_image1,url_image1:a.url_image1}),Y(Array.isArray(a.tarjetas)?a.tarjetas:[]),Q({titulo:a.commend_tarjeta.titulo||"",texto1:a.commend_tarjeta.texto1||"",texto2:a.commend_tarjeta.texto2||"",texto3:a.commend_tarjeta.texto3||"",texto4:a.commend_tarjeta.texto4||"",texto5:a.commend_tarjeta.texto5||""}),$({public_image2:a.public_image2,public_image3:a.public_image3});else{en("No se pudo cargar la informacion del body"),await c().fire({title:"Error",text:"No se pudo cargar la informacion del body",icon:"error",confirmButtonText:"OK"});return}let r=await u.A.fetchBlogFooter(e.id_blog_footer);if(r)v(r.public_image1),S(r.public_image2),A(r.public_image3),er(r),console.log("Footer: ",r),console.log("Data: ",ea);else{en("No se pudo cargar la informacion del footer"),await c().fire({title:"Error",text:"No se pudo cargar la informacion del footer",icon:"error",confirmButtonText:"OK"});return}console.log("DataFooter: ",ea),console.log("Header: ",P),console.log("Body: ",U),console.log("Commend Tarjeta: ",J),console.log("Info Body: ",X),console.log("Encabezado Body: ",ee)}else{en("No se pudo cargar el contenido principal del blog"),console.log("No hay contenido en nada :v"),await c().fire({title:"Error",text:"Ocurri\xf3 un error inesperado.",icon:"error",confirmButtonText:"OK"});return}}catch(e){console.log("Error al guardar: ",e),c().fire({title:"Error",text:"Ocurri\xf3 un error inesperado.",icon:"error",confirmButtonText:"OK"})}finally{ei(!1)}}async function ej(){let e=await u.A.updateHeader(P.id_blog_head,P);return e&&e>0?e:(c().fire({title:"Error",text:"No se pudo guardar el encabezado",icon:"error",confirmButtonText:"OK"}),"error")}async function ey(){let e=await u.A.updateFooter(ea.id_blog_footer,ea);return e&&e>0?e:(c().fire({title:"Error",text:"No se pudo guardar el pie de p\xe1gina",icon:"error",confirmButtonText:"OK"}),"error")}async function ew(){let e={titulo:ee.titulo,descripcion:ee.descripcion,id_commend_tarjeta:U.id_commend_tarjeta,public_image1:ee.public_image1,url_image1:ee.url_image1,public_image2:Z.public_image2,url_image2:Z.url_image2,public_image3:Z.public_image3,url_image3:Z.url_image3},t=await u.A.updateBody(U.id_blog_body,e);return t&&t>0?t:(c().fire({title:"Error",text:"No se pudo guardar el contenido",icon:"error",confirmButtonText:"OK"}),"error")}async function eN(){let e={titulo:J.titulo,texto1:J.texto1,texto2:J.texto2,texto3:J.texto3,texto4:J.texto4,texto5:J.texto5},t=await u.A.updateCommendTarjeta(U.id_commend_tarjeta,e);return t&&t>0?t:(c().fire({title:"Error",text:"No se pudo guardar la tarjeta de comentarios",icon:"error",confirmButtonText:"OK"}),"error")}async function ev(){let e={id_blog_head:G.id_blog_head,id_blog_footer:G.id_blog_footer,id_blog_body:G.id_blog_body,fecha:G.fecha},t=await u.A.updateBlog(G.id_blog,e);return t&&t>0?t:(c().fire({title:"Error",text:"No se actualizar guardar el blog",icon:"error",confirmButtonText:"OK"}),"error")}async function e_(e){let t={id_blog:G.id_blog,titulo:P.titulo,descripcion:P.texto_descripcion,public_image:P.public_image,url_image:P.url_image,id_plantilla:3,id_empleado:e};console.log("Form Card: ",t);let a=await u.A.updateCard(G.card.id_card,t);return a&&a>0?(console.log("Id del card:",a),a):(c().fire({title:"Error",text:"No se pudo guardar la tarjeta",icon:"error",confirmButtonText:"OK"}),"error")}async function eS(){try{return await Promise.all(X.map(async e=>{let t={id_blog_body:U.id_blog_body,titulo:e.titulo,descripcion:e.descripcion},a=await u.A.updateTarjeta(e.id_tarjeta,t);if(!a||a<=0)throw Error("Error al guardar tarjeta");return a})),"succes"}catch(e){return c().fire({title:"Error",text:"No se pudo guardar una o m\xe1s tarjetas",icon:"error",confirmButtonText:"OK"}),"error"}}async function eF(e,t){let a=await e();if(!a||"error"===a)throw c().fire({title:"Error",text:t,icon:"error",confirmButtonText:"OK"}),Error(t);return a}async function eA(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(!e)return;let r=new FormData;r.append("file",e),a&&r.append("name",a);let l=await u.A.saveImage(r,t);if(200===l.status||201===l.status)return k(null),"ok";throw Error("Error al subir la imagen")}catch(e){console.log(e)}}async function eB(){try{a(!0),await eF(eN,"No se pudo guardar la tarjeta de comentarios"),await eF(ew,"No se pudo guardar el contenido del blog"),await eF(eS,"No se pudo guardar las tarjetas informativas"),await eF(ej,"No se pudo guardar el encabezado"),await eF(ey,"No se pudo guardar el pie de p\xe1gina"),await eF(ev,"No se pudo guardar el blog"),await eF(()=>e_(ec),"No se pudo guardar la card"),B&&await eF(()=>eA(B,"card/blog/image_head/".concat(G.card.id_card)),"No se pudo guardar la imagen"),C&&await eF(()=>eA(C,"card/blog/images_body/".concat(G.card.id_card),"image1"),"No se pudo guardar la imagen"),D&&await eF(()=>eA(D,"card/blog/images_body/".concat(G.card.id_card),"image2"),"No se pudo guardar la imagen"),O&&await eF(()=>eA(O,"card/blog/images_body/".concat(G.card.id_card),"image3"),"No se pudo guardar la imagen"),I&&await eF(()=>eA(I,"card/blog/images_footer/".concat(G.card.id_card),"image1"),"No se pudo guardar la imagen"),z&&await eF(()=>eA(z,"card/blog/images_footer/".concat(G.card.id_card),"image2"),"No se pudo guardar la imagen"),L&&await eF(()=>eA(L,"card/blog/images_footer/".concat(G.card.id_card),"image3"),"No se pudo guardar la imagen"),c().fire({title:"Actualizado Correctamente",text:"\xa1Podr\xe1s ver tu blog en la secci\xf3n de blogs de la p\xe1gina principal!",icon:"success"}),e.push("/dashboard/blogs/"),f(""),y(""),v(""),S(""),A(""),g(""),h(""),W(null),er(null),q(null),R(null),k(null),E(null),T(null),V(null),M(null),K(null),H(null)}catch(e){console.error("Error al guardar:",e.message)}finally{a(!1)}}return(0,i.useEffect)(()=>{eb(ed&&eg&&eu)},[ed,eg,eu]),(0,i.useEffect)(()=>{ef()},[el]),((0,i.useEffect)(()=>{document.querySelectorAll("#header, #body, #footer").forEach(e=>{e.style.scrollMargin="50px","body"===e.id&&e.clientHeight<300&&(e.style.minHeight="300px")})},[]),es)?(0,r.jsxs)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:[(0,r.jsx)(x.A,{className:"h-12 w-12 text-gray-700 animate-spin"}),(0,r.jsx)("p",{className:"text-gray-700 ml-3",children:"Cargando blog..."})]}):eo?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-3",children:eo}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"No pudimos cargar el contenido del blog. Por favor, intenta nuevamente."}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Reintentar"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"header",className:"section-container mb-8",children:(0,r.jsx)(s.A,{dataHeader:P,setFormData:q,setFile:k,onDeleteImage:()=>{k(null),q(e=>({...e,public_image:n,url_image:""}))},setValidacionHeader:em})}),(0,r.jsx)("div",{id:"body",className:"section-container my-8 bg-gradient-to-r text-black w-full",children:(0,r.jsx)(N,{formCommendBody:J,setFormCommendBody:Q,formInfoBody:X,setFormInfoBody:Y,formGaleryBody:Z,setFormGaleryBody:$,setFileBodyHeader:E,onDeleteBodyHeaderImage:()=>{E(null),$(e=>({...e,public_image1:p,url_image1:""}))},setFileBodyFile1:T,onDeleteBodyFile1:()=>{T(null),$(e=>({...e,public_image2:b,url_image2:""}))},setFileBodyFile2:V,onDeleteBodyFile2:()=>{V(null),$(e=>({...e,public_image3:j,url_image3:""}))},formEncabezadoBody:ee,setFormEncabezadoBody:et,setValidacionBody:ex})}),(0,r.jsx)("div",{id:"footer",className:"section-container mt-8",children:(0,r.jsx)(l.A,{formFooter:ea,setFormData:er,setFileFooterFile1:M,onDeleteFooterFile1:()=>{M(null),er(e=>({...e,public_image1:w,url_image1:""}))},setFileFooterFile2:K,onDeleteFooterFile2:()=>{K(null),er(e=>({...e,public_image2:_,url_image2:""}))},setFileFooterFile3:H,onDeleteFooterFile3:()=>{H(null),er(e=>({...e,public_image3:F,url_image3:""}))},setValidacionFooter:ep})}),(0,r.jsx)("div",{className:"bottom-0 left-0 fixed p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:(0,r.jsx)("button",{onClick:eB,disabled:t||eh,className:"text-white rounded-xl flex items-center justify-center w-full transition-all duration-300 px-5 py-3 shadow-lg shadow-emerald-900/20 ".concat(t?"bg-emerald-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500"),children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4 text-blue-950"}),"Guardar Cambios"]})})})]})},_=()=>(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen text-gray-700",children:"Cargando..."}),children:(0,r.jsx)(v,{})})}},e=>{var t=t=>e(e.s=t);e.O(0,[8320,6815,9641,3464,8776,8441,1684,7358],()=>t(3492)),_N_E=e.O()}]);