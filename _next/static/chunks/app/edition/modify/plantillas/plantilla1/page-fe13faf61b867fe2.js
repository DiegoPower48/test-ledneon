(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9150],{15109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(95155),l=a(73350),o=a(72750),s=a(77223),i=a(56491),n=a(91386),c=a(79311),d=a(8376),m=a(19968),u=a(50172),g=a(12115);function x(e){let{formCommendBody:t,setFormCommendBody:a,formInfoBody:x,setFormInfoBody:p,formEncabezadoBody:b,setFormEncabezadoBody:h,formGaleryBody:f,setFormGaleryBody:j,setFileBodyHeader:y,setFileBodyFile1:w,setFileBodyFile2:N,setValidacionBody:_}=e,[v,S]=(0,g.useState)(!0),[F,A]=(0,g.useState)(!0),[B,k]=(0,g.useState)(!0),[C,E]=(0,g.useState)(!0),[D,T]=(0,g.useState)(!0),[O,V]=(0,g.useState)(!0),[z,I]=(0,g.useState)(!0),[K,L]=(0,g.useState)(!0),[H,R]=(0,g.useState)(!0),[P,q]=(0,g.useState)(!0),[G,U]=(0,g.useState)(!0),[M,J]=(0,g.useState)(!0),[W,Q]=(0,g.useState)(!0),[X,Y]=(0,g.useState)({titulo:{message:"Debe tener entre 10 y 50 caracteres",isValid:null},texto1:{message:"Debe tener entre 10 y 150 caracteres",isValid:null},texto2:{message:"Debe tener entre 10 y 150 caracteres",isValid:null},texto3:{message:"Debe tener entre 10 y 150 caracteres",isValid:null},descripcion:{message:"Debe tener entre 10 y 400 caracteres",isValid:null}}),[Z,$]=(0,g.useState)(!1),ee=e=>t=>{let{name:a,value:r}=t.target,l=!0;switch(a){case"titulo":S(l=r.trim().length>=10&&r.length<=50),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"descripcion":A(l=r.trim().length>=10&&r.length<=400),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto1":k(l=r.trim().length>=10&&r.length<=150),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto2":E(l=r.trim().length>=10&&r.length<=150),Y(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto3":T(l=r.trim().length>=10&&r.length<=150),Y(e=>({...e,[a]:{...e[a],isValid:l}}))}v&&F&&B&&C&&D&&O&&z&&K&&H&&P&&G&&M&&W?_(!0):_(!1),e(e=>({...e,[a]:r}))},et=e=>{let{error:t}=e;return(0,r.jsx)("p",{className:"text-xs mt-1 ml-3 ".concat(null===t.isValid?"text-gray-400":t.isValid?"text-green-400":"text-red-500"),children:t.message})},[ea,er]=(0,g.useState)(x.map(()=>({titulo:{message:"Debe tener entre 10 y 50 caracteres",isValid:null},descripcion:{message:"Debe tener entre 10 y 400 caracteres",isValid:null}}))),el=(e,t,a)=>{let{value:r}=e.target,l=!0;switch(a){case"titulo":l=r.trim().length>=10&&r.length<=50,0===t?V(l):1===t?L(l):2===t?q(l):3===t&&J(l);break;case"descripcion":l=r.trim().length>=10&&r.length<=400,0===t?I(l):1===t?R(l):2===t?U(l):3===t&&Q(l)}v&&F&&B&&C&&D&&O&&z&&K&&H&&P&&G&&M&&W?_(!0):_(!1),p(e=>{let l=[...e];return l[t]={...l[t],[a]:r},l}),er(e=>{let r=[...e];return r[t]={...r[t],[a]:{...r[t][a],isValid:l}},r})},eo=async e=>{let t=e.target.files[0];if(t)try{$(!0);let e=URL.createObjectURL(t);h(t=>({...t,public_image1:e})),y(t)}catch(e){console.error("Error al subir imagen:",e),Swal.fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al subir la imagen",confirmButtonColor:"#8c52ff"})}finally{$(!1)}},es=async e=>{let t=e.target.files[0],a=e.target.name;if(t)try{$(!0);let e=URL.createObjectURL(t);j(t=>({...t,[a]:e})),"public_image2"===a?w(t):"public_image3"===a&&N(t)}catch(e){console.error("Error al subir imagen:",e),Swal.fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al subir la imagen",confirmButtonColor:"#8c52ff"})}finally{$(!1)}};return b&&t&&f&&x?(0,r.jsxs)("div",{className:"relative lg:mx-10 p-0 text-black rounded-lg shadow-[0px_10px_25px_rgba(0,0,0,0.25)] overflow-hidden flex flex-row my-5 justify-center",children:[(0,r.jsxs)("div",{className:"w-[700px]",children:[(0,r.jsx)("div",{className:"relative h-[400px] overflow-hidden",children:(0,r.jsx)("img",{src:b.public_image1,alt:b.titulo||"Imagen principal",className:"absolute w-full h-full object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative h-full flex flex-col justify-end p-8 items-center text-center",children:[(0,r.jsx)("h2",{className:"text-4xl md:text-5xl font-extrabold text-black mb-4 bg-opacity-60 inline w-fit",children:b.titulo}),(0,r.jsx)("p",{className:"text-black mb-2 bg-opacity-60 inline w-fit",children:b.fecha}),(0,r.jsx)("p",{className:"text-lg py-5 px-5 leading-relaxed bg-black bg-opacity-60 w-fit text-white",children:b.descripcion})]}),(0,r.jsxs)("div",{className:"bg-black/5 p-8",children:[(0,r.jsxs)("div",{className:"mb-[100px]  p-10 px-6 bg-gradient-to-br from-green-900 to-gray-800 rounded-lg shadow-[0px_10px_25px_rgba(0,0,0,0.25)] text-center text-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,r.jsx)("div",{className:"h-0.5 w-12 bg-gray-400 mr-4"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-green-400",children:t.titulo||"Consejos"}),(0,r.jsx)("div",{className:"h-0.5 w-12 bg-green-400 ml-4"})]}),(0,r.jsx)("ul",{className:"list-none text-black-600 space-y-3 max-w-2xl mx-auto",children:t&&[t.texto1,t.texto2,t.texto3].filter(e=>e).map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center gap-3 bg-green-600 p-3 rounded-lg",children:[(0,r.jsx)(d.A,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-left",children:e})]},"commend-".concat(t)))})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-center",children:(0,r.jsx)("div",{className:"inline-block px-4 py-1 bg-blue-500 text-white text-sm font-medium rounded-full",children:"Informaci\xf3n Importante"})}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-20 pt-8",children:x.map((e,t)=>{let a=["bg-gradient-to-br from-purple-500 to-purple-900 border-l-4","bg-gradient-to-br from-purple-500 to-purple-900 border-l-4","bg-gradient-to-br from-purple-500 to-purple-900 border-l-4","bg-gradient-to-br from-purple-500 to-purple-900 border-l-4"];return(0,r.jsxs)("div",{className:"p-5 rounded-lg shadow-lg transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl ".concat(a[t%a.length]),children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-3 text-white",children:e.titulo}),(0,r.jsx)("p",{className:"text-gray-100",children:e.descripcion})]},"tarjeta-".concat(t))})})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-3 mt-8",children:[f.public_image2||"/blog/blog-10.jpg",f.public_image3||"/blog/blog-1.jpg"].map((e,t)=>(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-xl shadow-xl",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"}),(0,r.jsx)("img",{src:e,alt:"Imagen ".concat(t+1," del art\xedculo"),className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-105"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 z-20",children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Ver detalle"}),(0,r.jsx)(m.A,{className:"w-4 h-4 ml-2"})]})})]},t))})]})]})]}),(0,r.jsxs)("div",{className:"w-[420px] flex flex-col justify-center gap-5 p-5",children:[(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 mr-2 text-purple-400"})," T\xedtulo",(0,r.jsx)(et,{error:X.titulo})]}),(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:50,value:b.titulo,onChange:ee(h),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"T\xedtulo principal"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," Fecha"]}),(0,r.jsx)("input",{type:"date",name:"fecha",value:b.fecha,onChange:ee(h),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(Z?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[Z?(0,r.jsx)(u.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-4.jpg"!==b.public_image1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"image",className:"hidden",onChange:eo,disabled:Z})]}),(0,r.jsx)("button",{type:"button",onClick:e.onDeleteBodyHeaderImage,className:" flex ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen principal",children:(0,r.jsx)(s.A,{className:"w-5 h-5 text-red-500"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(i.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Descripcion",(0,r.jsx)(et,{error:X.descripcion})]}),(0,r.jsx)("input",{name:"descripcion",value:b.descripcion,maxLength:400,onChange:ee(h),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Frase Secundaria"})]})]})}),(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 mr-2 text-purple-400"})," T\xedtulo",(0,r.jsx)(et,{error:X.titulo})]}),(0,r.jsx)("input",{type:"text",name:"titulo",value:t.titulo,maxLength:50,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"T\xedtulo principal"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Texto1",(0,r.jsx)(et,{error:X.texto1})]}),(0,r.jsx)("input",{type:"text",name:"texto1",maxLength:150,value:t.texto1,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"texto1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Texto2",(0,r.jsx)(et,{error:X.texto2})]}),(0,r.jsx)("input",{type:"text",name:"texto2",maxLength:150,value:t.texto2,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"texto2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Texto3",(0,r.jsx)(et,{error:X.texto3})]}),(0,r.jsx)("input",{type:"text",name:"texto3",maxLength:150,value:t.texto3,onChange:ee(a),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"texto3"})]})]})}),(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,r.jsx)("form",{className:"space-y-6",children:x.map((e,t)=>{var a,o;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"pb-4",children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 mr-2 text-purple-400"})," T\xedtulo",(0,r.jsx)(et,{error:(null==(a=ea[t])?void 0:a.titulo)||{isValid:null,message:""}})]}),(0,r.jsx)("input",{type:"text",name:"titulo",value:e.titulo,maxLength:50,onChange:e=>el(e,t,"titulo"),className:"w-full bg-gray-900 text-white border border-gray-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"T\xedtulo principal",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Descripci\xf3n",(0,r.jsx)(et,{error:(null==(o=ea[t])?void 0:o.descripcion)||{isValid:null,message:""}})]}),(0,r.jsx)("textarea",{name:"descripcion",value:e.descripcion,maxLength:400,onChange:e=>el(e,t,"descripcion"),className:"w-full resize-none h-[100px] bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm",placeholder:"Descripci\xf3n"})]})]},t)})})}),(0,r.jsx)("div",{className:"bg-black/5 backdrop-blur-md rounded-2xl p-8 shadow-lg w-full max-w-lg overflow-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:(0,r.jsxs)("form",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Imagen 2",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"250x310 p\xedxeles"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(Z?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[Z?(0,r.jsx)(u.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-2.jpg"!==f.public_image2?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"public_image2",className:"hidden",onChange:es,disabled:Z})]}),(0,r.jsx)("button",{type:"button",onClick:e.onDeleteBodyFile1,className:"ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen galer\xeda 1",children:(0,r.jsx)(s.A,{className:"w-5 h-5 text-red-500"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center text-white text-sm font-medium mb-2",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"})," Imagen 2",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"250x310 p\xedxeles"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(Z?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[Z?(0,r.jsx)(u.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-2.jpg"!==f.public_image3?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"public_image3",className:"hidden",onChange:es,disabled:Z})]}),(0,r.jsx)("button",{type:"button",onClick:e.onDeleteBodyFile2,className:"ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen galer\xeda 2",children:(0,r.jsx)(s.A,{className:"w-5 h-5 text-red-500"})})]})]})]})})]})]}):(0,r.jsx)("div",{className:"w-full h-screen md:h-[80vh] flex items-center justify-center text-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-500",children:"Cargando..."})})}var p=a(60100),b=a(22046),h=a(59119),f=a(24752),j=a.n(f),y=a(35695),w=a(79971),N=a(11145);let _=()=>{let e=(0,y.useRouter)(),[t,a]=(0,g.useState)(!1),[l,o]=(0,g.useState)(""),[s,i]=(0,g.useState)(""),[n,c]=(0,g.useState)(""),[d,m]=(0,g.useState)(""),[f,_]=(0,g.useState)(""),[v,S]=(0,g.useState)(""),[F,A]=(0,g.useState)(""),[B,k]=(0,g.useState)(null),[C,E]=(0,g.useState)(null),[D,T]=(0,g.useState)(null),[O,V]=(0,g.useState)(null),[z,I]=(0,g.useState)(null),[K,L]=(0,g.useState)(null),[H,R]=(0,g.useState)(null),[P,q]=(0,g.useState)(null),[G,U]=(0,g.useState)(null),[M,J]=(0,g.useState)(null),[W,Q]=(0,g.useState)({titulo:"",texto1:"",texto2:"",texto3:"",texto4:"",texto5:""}),[X,Y]=(0,g.useState)([]),[Z,$]=(0,g.useState)({}),[ee,et]=(0,g.useState)({}),[ea,er]=(0,g.useState)(null),el=(0,y.useSearchParams)().get("id_blog"),[eo,es]=(0,g.useState)(!0),[ei,en]=(0,g.useState)(null),ec=(0,w.getCookie)("empleado")?JSON.parse((0,w.getCookie)("empleado")).id_empleado:-1,[ed,em]=(0,g.useState)(!1),[eu,eg]=(0,g.useState)(!1),[ex,ep]=(0,g.useState)(!1),[eb,eh]=(0,g.useState)(!1);async function ef(){try{es(!0);let e=await N.A.fetchBlogById(el);if(e){q(e);let t=await N.A.fetchBlogHead(e.id_blog_head);if(t)o(t.public_image),U(t);else{en("No se pudo cargar la informacion del encabezado"),await j().fire({title:"Error",text:"No se pudo cargar la informacion del encabezado",icon:"error",confirmButtonText:"OK"});return}let a=await N.A.fetchBlogBodyById(e.id_blog_body);if(a)i(a.public_image1),c(a.public_image2),m(a.public_image3),J(a),et({titulo:a.titulo,descripcion:a.descripcion,public_image1:a.public_image1,url_image1:a.url_image1}),Y(Array.isArray(a.tarjetas)?a.tarjetas:[]),Q({titulo:a.commend_tarjeta.titulo||"",texto1:a.commend_tarjeta.texto1||"",texto2:a.commend_tarjeta.texto2||"",texto3:a.commend_tarjeta.texto3||"",texto4:a.commend_tarjeta.texto4||"",texto5:a.commend_tarjeta.texto5||""}),$({public_image2:a.public_image2,public_image3:a.public_image3});else{en("No se pudo cargar la informacion del body"),await j().fire({title:"Error",text:"No se pudo cargar la informacion del body",icon:"error",confirmButtonText:"OK"});return}let r=await N.A.fetchBlogFooter(e.id_blog_footer);if(r)_(r.public_image1),S(r.public_image2),A(r.public_image3),er(r),console.log("Footer: ",r),console.log("Data: ",ea);else{en("No se pudo cargar la informacion del footer"),await j().fire({title:"Error",text:"No se pudo cargar la informacion del footer",icon:"error",confirmButtonText:"OK"});return}console.log("DataFooter: ",ea),console.log("Header: ",G),console.log("Body: ",M),console.log("Commend Tarjeta: ",W),console.log("Info Body: ",X),console.log("Encabezado Body: ",ee)}else{en("No se pudo cargar el contenido principal del blog"),console.log("No hay contenido en nada :v"),await j().fire({title:"Error",text:"Ocurri\xf3 un error inesperado.",icon:"error",confirmButtonText:"OK"});return}}catch(e){console.log("Error al guardar: ",e),j().fire({title:"Error",text:"Ocurri\xf3 un error inesperado.",icon:"error",confirmButtonText:"OK"})}finally{es(!1)}}async function ej(){let e=await N.A.updateHeader(G.id_blog_head,G);return e&&e>0?e:(j().fire({title:"Error",text:"No se pudo guardar el encabezado",icon:"error",confirmButtonText:"OK"}),"error")}async function ey(){let e=await N.A.updateFooter(ea.id_blog_footer,ea);return e&&e>0?e:(j().fire({title:"Error",text:"No se pudo guardar el pie de p\xe1gina",icon:"error",confirmButtonText:"OK"}),"error")}async function ew(){let e={titulo:ee.titulo,descripcion:ee.descripcion,id_commend_tarjeta:M.id_commend_tarjeta,public_image1:ee.public_image1,url_image1:ee.url_image1,public_image2:Z.public_image2,url_image2:Z.url_image2,public_image3:Z.public_image3,url_image3:Z.url_image3},t=await N.A.updateBody(M.id_blog_body,e);return t&&t>0?t:(j().fire({title:"Error",text:"No se pudo guardar el contenido",icon:"error",confirmButtonText:"OK"}),"error")}async function eN(){let e={titulo:W.titulo,texto1:W.texto1,texto2:W.texto2,texto3:W.texto3,texto4:W.texto4,texto5:W.texto5},t=await N.A.updateCommendTarjeta(M.id_commend_tarjeta,e);return t&&t>0?t:(j().fire({title:"Error",text:"No se pudo guardar la tarjeta de comentarios",icon:"error",confirmButtonText:"OK"}),"error")}async function e_(){let e={id_blog_head:P.id_blog_head,id_blog_footer:P.id_blog_footer,id_blog_body:P.id_blog_body,fecha:P.fecha},t=await N.A.updateBlog(P.id_blog,e);return t&&t>0?t:(j().fire({title:"Error",text:"No se actualizar guardar el blog",icon:"error",confirmButtonText:"OK"}),"error")}async function ev(e){let t={id_blog:P.id_blog,titulo:G.titulo,descripcion:G.texto_descripcion,public_image:G.public_image,url_image:G.url_image,id_plantilla:1,id_empleado:e};console.log("Datos que se enviar\xe1n para guardar la card:",t);let a=await N.A.updateCard(P.card.id_card,t);return a&&a>0?(console.log("Id del card:",a),a):(j().fire({title:"Error",text:"No se pudo guardar la tarjeta",icon:"error",confirmButtonText:"OK"}),"error")}async function eS(){try{return await Promise.all(X.map(async e=>{let t={id_blog_body:M.id_blog_body,titulo:e.titulo,descripcion:e.descripcion},a=await N.A.updateTarjeta(e.id_tarjeta,t);if(!a||a<=0)throw Error("Error al guardar tarjeta");return a})),"succes"}catch(e){return j().fire({title:"Error",text:"No se pudo guardar una o m\xe1s tarjetas",icon:"error",confirmButtonText:"OK"}),"error"}}async function eF(e,t){let a=await e();if(!a||"error"===a)throw j().fire({title:"Error",text:t,icon:"error",confirmButtonText:"OK"}),Error(t);return a}async function eA(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(!e)return;let r=new FormData;r.append("file",e),a&&r.append("name",a);let l=await N.A.saveImage(r,t);if(200===l.status||201===l.status)return k(null),"ok";throw Error("Error al subir la imagen")}catch(e){console.log(e)}}async function eB(){try{a(!0),await eF(eN,"No se pudo guardar la tarjeta de comentarios"),await eF(ew,"No se pudo guardar el contenido del blog"),await eF(eS,"No se pudo guardar las tarjetas informativas"),await eF(ej,"No se pudo guardar el encabezado"),await eF(ey,"No se pudo guardar el pie de p\xe1gina"),await eF(e_,"No se pudo guardar el blog"),await eF(()=>ev(ec),"No se pudo guardar la card"),B&&await eF(()=>eA(B,"card/blog/image_head/".concat(P.card.id_card)),"No se pudo guardar la imagen"),C&&await eF(()=>eA(C,"card/blog/images_body/".concat(P.card.id_card),"image1"),"No se pudo guardar la imagen"),D&&await eF(()=>eA(D,"card/blog/images_body/".concat(P.card.id_card),"image2"),"No se pudo guardar la imagen"),O&&await eF(()=>eA(O,"card/blog/images_body/".concat(P.card.id_card),"image3"),"No se pudo guardar la imagen"),z&&await eF(()=>eA(z,"card/blog/images_footer/".concat(P.card.id_card),"image1"),"No se pudo guardar la imagen"),K&&await eF(()=>eA(K,"card/blog/images_footer/".concat(P.card.id_card),"image2"),"No se pudo guardar la imagen"),H&&await eF(()=>eA(H,"card/blog/images_footer/".concat(P.card.id_card),"image3"),"No se pudo guardar la imagen"),j().fire({title:"Actualizado Correctamente",text:"\xa1Podr\xe1s ver tu blog en la secci\xf3n de blogs de la p\xe1gina principal!",icon:"success"}),e.push("/dashboard/blogs/"),c(""),m(""),_(""),S(""),A(""),o(""),i(""),J(null),er(null),U(null),q(null),k(null),E(null),T(null),V(null),I(null),L(null),R(null)}catch(e){console.error("Error al guardar:",e.message)}finally{a(!1)}}return(0,g.useEffect)(()=>{eh(ed&&ex&&eu)},[ed,ex,eu]),(0,g.useEffect)(()=>{ef()},[el]),((0,g.useEffect)(()=>{document.querySelectorAll("#header, #body, #footer").forEach(e=>{e.style.scrollMargin="50px","body"===e.id&&e.clientHeight<300&&(e.style.minHeight="300px")})},[]),eo)?(0,r.jsxs)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:[(0,r.jsx)(u.A,{className:"h-12 w-12 text-gray-700 animate-spin"}),(0,r.jsx)("p",{className:"text-gray-700 ml-3",children:"Cargando blog..."})]}):ei?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-3",children:ei}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"No pudimos cargar el contenido del blog. Por favor, intenta nuevamente."}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Reintentar"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"header",className:"section-container mb-8",children:(0,r.jsx)(b.A,{dataHeader:G,setFormData:U,setFile:k,onDeleteImage:()=>{k(null),U(e=>({...e,public_image:l,url_image:""}))},setValidacionHeader:em})}),(0,r.jsx)("div",{id:"body",className:"section-container my-8 bg-gradient-to-r text-black w-full",children:(0,r.jsx)(x,{formCommendBody:W,setFormCommendBody:Q,formInfoBody:X,setFormInfoBody:Y,formGaleryBody:Z,setFormGaleryBody:$,setFileBodyHeader:E,onDeleteBodyHeaderImage:()=>{E(null),$(e=>({...e,public_image1:s,url_image1:""}))},setFileBodyFile1:T,onDeleteBodyFile1:()=>{T(null),$(e=>({...e,public_image2:n,url_image2:""}))},setFileBodyFile2:V,onDeleteBodyFile2:()=>{V(null),$(e=>({...e,public_image3:d,url_image3:""}))},formEncabezadoBody:ee,setFormEncabezadoBody:et,setValidacionBody:eg})}),(0,r.jsx)("div",{id:"footer",className:"section-container mt-8",children:(0,r.jsx)(p.A,{formFooter:ea,setFormData:er,setFileFooterFile1:I,onDeleteFooterFile1:()=>{I(null),er(e=>({...e,public_image1:f,url_image1:""}))},setFileFooterFile2:L,onDeleteFooterFile2:()=>{L(null),er(e=>({...e,public_image2:v,url_image2:""}))},setFileFooterFile3:R,onDeleteFooterFile3:()=>{R(null),er(e=>({...e,public_image3:F,url_image3:""}))},setValidacionFooter:ep})}),(0,r.jsx)("div",{className:"bottom-0 left-0 fixed p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:(0,r.jsx)("button",{onClick:eB,disabled:t||eb,className:"text-white rounded-xl flex items-center justify-center w-full transition-all duration-300 px-5 py-3 shadow-lg shadow-emerald-900/20 ".concat(t?"bg-emerald-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500"),children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4 text-green-800"}),"Guardar Cambios"]})})})]})},v=()=>(0,r.jsx)(g.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen text-gray-700",children:"Cargando..."}),children:(0,r.jsx)(_,{})})},19968:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},52990:(e,t,a)=>{Promise.resolve().then(a.bind(a,15109))},72750:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Clock1",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 14.5 8",key:"12zbmj"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[8320,6815,9641,3464,8776,8441,1684,7358],()=>t(52990)),_N_E=e.O()}]);