(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1455],{7390:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},17607:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19774:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},37648:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},42306:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var r=a(95155),l=a(12115),s=a(37648),o=a(19774),i=a(7390),n=a(73350),c=a(56491),d=a(72750),m=a(79311),u=a(50172),x=a(77223),g=a(8376),h=a(54990),b=a(17607);function p(e){let[t,a]=(0,l.useState)("info"),[p,f]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!0),[N,w]=(0,l.useState)(!0),[_,v]=(0,l.useState)(!0),[k,S]=(0,l.useState)(!0),[A,F]=(0,l.useState)(!0),[B,C]=(0,l.useState)(!0),[E,V]=(0,l.useState)(!0),[D,O]=(0,l.useState)(!0),[T,z]=(0,l.useState)(!0),[I,L]=(0,l.useState)(!0),[H,K]=(0,l.useState)(!0),[M,R]=(0,l.useState)(!0),[G,P]=(0,l.useState)(!0),[U,q]=(0,l.useState)(!0),[J,W]=(0,l.useState)(!0),{formCommendBody:Y,setFormCommendBody:Q,formInfoBody:X,setFormInfoBody:Z,formEncabezadoBody:$,setFormEncabezadoBody:ee,formGaleryBody:et,setFormGaleryBody:ea,setFileBodyHeader:er,setFileBodyFile1:el,setFileBodyFile2:es,setValidacionBody:eo}=e,[ei,en]=(0,l.useState)({titulo:{message:"M\xe1ximo 40 caracteres",isValid:null},textos:[,,,,,].fill({message:"M\xe1ximo 100 caracteres",isValid:null})}),[ec,ed]=(0,l.useState)(X.map(()=>({titulo:{message:"Debe tener entre 10 y 50 caracteres",isValid:null},descripcion:{message:"Debe tener entre 10 y 400 caracteres",isValid:null}}))),em=e=>t=>{let{name:a,value:r}=t.target,l=!0;switch(a){case"titulo":y(l=r.trim().length>=10&&r.length<=50),ef(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"descripcion":w(l=r.trim().length>=10&&r.length<=400),ef(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto1":v(l=r.trim().length>=10&&r.length<=150),ef(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto2":S(l=r.trim().length>=10&&r.length<=150),ef(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto3":F(l=r.trim().length>=10&&r.length<=150),ef(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto4":C(l=r.trim().length>=10&&r.length<=150),ef(e=>({...e,[a]:{...e[a],isValid:l}}));break;case"texto5":V(l=r.trim().length>=10&&r.length<=150),ef(e=>({...e,[a]:{...e[a],isValid:l}}))}j&&N&&_&&k&&A&&B&&E&&D&&T&&I&&H&&M&&G&&U&&J?eo(!0):eo(!1),e(e=>({...e,[a]:r}))},eu=(e,t,a)=>{let{value:r}=e.target,l=!0;switch(a){case"titulo":l=r.trim().length>=10&&r.length<=50,0===t?O(l):1===t?L(l):2===t?R(l):3===t&&q(l);break;case"descripcion":l=r.trim().length>=10&&r.length<=400,0===t?z(l):1===t?K(l):2===t?P(l):3===t?W(l):4===t?setIsValidInfoDescripcion5(l):5===t&&setIsValidInfoDescripcion6(l)}j&&N&&_&&k&&A&&D&&T&&I&&H&&M&&G&&U&&J?eo(!0):eo(!1),Z(e=>{let l=[...e];return l[t]={...l[t],[a]:r},l}),ed(e=>{let r=[...e];return r[t]={...r[t],[a]:{...r[t][a],isValid:l}},r})},ex=async e=>{let t=e.target.files[0];if(t)try{f(!0);let e=URL.createObjectURL(t);ee(t=>({...t,public_image1:e})),er(t)}catch(e){console.error("Error al subir imagen:",e),Swal.fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al subir la imagen",confirmButtonColor:"#8c52ff"})}finally{f(!1)}},eg=async e=>{let t=e.target.files[0],a=e.target.name;if(t)try{f(!0);let e=URL.createObjectURL(t);ea(t=>({...t,[a]:e})),"public_image2"===a?el(t):"public_image3"===a&&es(t)}catch(e){console.error("Error al subir imagen:",e),Swal.fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al subir la imagen",confirmButtonColor:"#8c52ff"})}finally{f(!1)}},[eh,eb]=(0,l.useState)({titulos:Array(X.length).fill({message:"M\xe1ximo 40 caracteres",isValid:null}),descripciones:Array(X.length).fill({message:"M\xe1ximo 310 caracteres",isValid:null})}),[ep,ef]=(0,l.useState)({titulo:{message:"M\xe1ximo 30 caracteres",isValid:null},descripcion:{message:"M\xe1ximo 310 caracteres",isValid:null},fecha:{message:"Fecha",isValid:null}}),ej=e=>{let{error:t}=e;return(0,r.jsx)("h1",{className:"text-xs mt-1 ml-3 ".concat(null===t.isValid?"text-gray-500":t.isValid?"text-green-500":"text-red-500"),children:t.message})};return console.log(Y),(0,r.jsxs)("div",{className:"relative bg-white text-black rounded-2xl shadow-[0px_10px_25px_rgba(0,0,0,0.15)] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"top-0 z-30 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500 text-sm",children:[(0,r.jsx)(s.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:$.fecha})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,r.jsx)(o.A,{className:"w-5 h-5 text-teal-600"})}),(0,r.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,r.jsx)(i.A,{className:"w-5 h-5 text-teal-600"})})]})]}),(0,r.jsxs)("div",{className:"relative w-[850px] h-[300px] md:h-[400px] overflow-hidden",children:[(0,r.jsx)("img",{src:$.public_image1,alt:$.titulo,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-10",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-2 leading-tight",children:$.titulo}),(0,r.jsx)("div",{className:"w-16 h-1 bg-teal-500 mb-4"})]})]}),(0,r.jsx)("div",{className:"mx-10 my-5 text-lg text-gray-700 leading-relaxed",children:$.descripcion})]}),(0,r.jsx)("div",{className:"relative mt-28 w-full p-6",children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)("div",{className:"bg-black/90 backdrop-blur-md rounded-lg p-5 border border-white/10 shadow-lg",children:(0,r.jsxs)("form",{className:"grid gap-5",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("label",{className:"flex items-center text-gray-300 text-xs font-medium mb-1",children:[(0,r.jsx)(n.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," T\xedtulo",(0,r.jsx)(ej,{error:ep.titulo})]}),(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:40,minLength:5,value:$.titulo,onChange:em(ee),className:"w-full bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"T\xedtulo del pie de p\xe1gina"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("label",{className:"flex items-center text-gray-300 text-xs font-medium mb-1",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," Descripci\xf3n",(0,r.jsx)(ej,{error:ep.descripcion})]}),(0,r.jsx)("textarea",{name:"descripcion",value:$.descripcion,onChange:em(ee),maxLength:310,minLength:10,rows:3,className:"w-full h-full bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm focus:ring-2 focus:ring-yellow-400 focus:border-transparent resize-none",placeholder:"Descripci\xf3n corta"})]}),(0,r.jsxs)("div",{className:"mb-3 mt-3",children:[(0,r.jsxs)("label",{className:"flex items-center text-gray-300 text-xs font-medium mb-1",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," Fecha",(0,r.jsx)(ej,{error:ep.fecha})]}),(0,r.jsx)("input",{type:"date",name:"fecha",value:$.fecha,onChange:e=>{let{name:t,value:a}=e.target,r=!0;switch(t){case"titulo":r=""!==a.trim()&&a.length<=40&&a.length>=5;break;case"descripcion":r=""!==a.trim()&&a.length<=310&&a.length>=10;break;case"fecha":r=new Date(a)<=new Date}ef(e=>({...e,[t]:{...e[t],isValid:r}})),ee(e=>({...e,[t]:a}))},className:"w-full bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Fecha de Creaci\xf3n p\xe1gina"})]}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("label",{className:"flex items-center text-gray-300 text-xs font-medium mb-1",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," Imagen de Fondo",(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"980x450 p\xedxeles"})]}),(0,r.jsxs)("div",{className:"relative flex flex-column justify-center",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(p?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[p?(0,r.jsx)(u.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-4.jpg"!==$.public_image1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"image",className:"hidden",onChange:ex,disabled:p})]}),(0,r.jsx)("button",{type:"button",onClick:e.onDeleteBodyHeaderImage,className:"ml-2 p-2 rounded-full hover:bg-red-100",title:"Eliminar imagen principal",children:(0,r.jsx)(x.A,{className:"w-5 h-5 text-red-500"})})]})]})]})})})})]}),(0,r.jsxs)("div",{className:"px-6 md:px-10 pb-8",children:[(0,r.jsxs)("div",{className:"flex border-b border-gray-200 mb-8",children:[(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm ".concat("info"===t?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("info"),children:"Informaci\xf3n"}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm ".concat("tips"===t?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("tips"),children:"Consejos"}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm ".concat("gallery"===t?"text-teal-600 border-b-2 border-teal-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("gallery"),children:"Galer\xeda"})]}),(0,r.jsxs)("div",{className:"mb-10",children:["info"===t&&(0,r.jsx)("div",{className:"space-y-6 ",children:X&&X.map((e,t)=>{var a,l;return(0,r.jsxs)("div",{className:"flex gap-5",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r w-full  from-teal-50 to-gray-50 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:"p-1 bg-gradient-to-r from-teal-400 to-teal-600"}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-3 text-teal-700",children:e.titulo}),(0,r.jsx)("p",{className:"text-gray-700",children:e.descripcion})]})]}),(0,r.jsx)("div",{className:"bg-black/90 backdrop-blur-md rounded-lg p-5 border border-white/10 shadow-lg w-[650px] mr-4",children:(0,r.jsxs)("form",{className:"grid gap-5",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("label",{className:"flex items-center text-gray-300 text-xs font-medium mb-1",children:[(0,r.jsx)(n.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," ","Info Relevante "+(t+1),(0,r.jsx)(ej,{error:(null==(a=ec[t])?void 0:a.titulo)||{isValid:null,message:""}})]}),(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:40,minLength:5,value:X[t].titulo,onChange:e=>eu(e,t,"titulo"),className:"w-full bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"T\xedtulo del pie de p\xe1gina"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("label",{className:"flex items-center text-gray-300 text-xs font-medium mb-1",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-1.5 text-blue-400"})," ","Descripci\xf3n "+(t+1),(0,r.jsx)(ej,{error:(null==(l=ec[t])?void 0:l.descripcion)||{isValid:null,message:""}})]}),(0,r.jsx)("textarea",{name:"descripcion",value:X[t].descripcion,onChange:e=>eu(e,t,"descripcion"),maxLength:310,minLength:10,rows:3,className:"w-full h-full bg-gray-800 text-white border border-gray-700 rounded-lg p-2 text-sm focus:ring-2 focus:ring-yellow-400 focus:border-transparent resize-none",placeholder:"Descripci\xf3n corta"})]})]})})]},"tarjeta-".concat(t))})}),"tips"===t&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-green-400/60 rounded-xl shadow-sm p-8 border border-slate-100 ",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold mb-8 text-slate-800 text-center",children:Y.titulo||"Consejos"}),(0,r.jsx)("ul",{className:"space-y-5",children:Y&&[Y.texto1,Y.texto2,Y.texto3,Y.texto4,Y.texto5].filter(e=>e).map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start group transition-all duration-300 hover:translate-x-1 bg-white rounded-xl p-2",children:[(0,r.jsx)("div",{className:"bg-emerald-50 p-2 rounded-full mr-4 group-hover:bg-emerald-100 transition-colors duration-300",children:(0,r.jsx)(g.A,{className:"w-5 h-5 text-emerald-600"})}),(0,r.jsx)("div",{className:"pt-1.5",children:(0,r.jsx)("p",{className:"text-slate-700 leading-relaxed",children:e})})]},"commend-".concat(t)))}),(!Y||![Y.texto1,Y.texto2,Y.texto3,Y.texto4,Y.texto5].some(e=>e))&&(0,r.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Agrega consejos utilizando el formulario"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-slate-100 ",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-slate-800 mb-6 pb-2 border-b border-slate-100",children:"Editar consejos"}),(0,r.jsxs)("form",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex text-sm font-medium text-slate-700 mb-1.5 ",children:["T\xedtulo de la secci\xf3n",(0,r.jsx)(ej,{error:ei.titulo})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",name:"titulo",maxLength:40,value:Y.titulo,onChange:em(Q),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-slate-800 text-sm transition-all duration-200 focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 focus:bg-white",placeholder:"Ej: Consejos \xfatiles"}),(0,r.jsx)(h.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Consejos"}),[1,2,3,4,5].map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",name:"texto".concat(e),maxLength:100,minLength:10,value:Y["texto".concat(e)]||"",onChange:em(Q),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-slate-800 text-sm transition-all duration-200 focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 focus:bg-white",placeholder:"Consejo #".concat(e)}),(0,r.jsx)(ej,{error:ei.textos[t]}),(0,r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center rounded-full bg-emerald-50 text-emerald-600 text-xs font-medium",children:e})]},"consejo-".concat(e)))]})]})]})]}),"gallery"===t&&(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-700 mb-6 pb-2 border-b border-slate-200",children:"Galer\xeda de im\xe1genes"}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[{id:2,url:et.public_image2||"/blog/blog-10.jpg",title:"Imagen destacada 1"},{id:3,url:et.public_image3||"/blog/blog-1.jpg",title:"Imagen destacada 2"}].map((t,a)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative h-64 bg-slate-100",children:[(0,r.jsx)("img",{src:t.url,alt:"".concat(t.title),className:"w-full h-64 object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end justify-end p-3",children:(0,r.jsx)("button",{className:"bg-white/90 p-2 rounded-full shadow-lg",children:(0,r.jsx)(b.A,{className:"w-4 h-4 text-slate-700"})})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("label",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[(0,r.jsx)(n.A,{className:"w-4 h-4 mr-1.5 text-slate-400"}),t.title,(0,r.jsx)("h1",{className:"ml-3 mt-1 text-xs",children:"250x450 p\xedxeles"})]}),(0,r.jsxs)("div",{className:"relative flex flex-row",children:[(0,r.jsxs)("label",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed rounded-lg text-white transition-all cursor-pointer ".concat(p?"border-gray-700 bg-gray-900 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-900 hover:border-purple-500 hover:bg-gray-800"),children:[p?(0,r.jsx)(u.A,{className:"w-5 h-5 animate-spin text-purple-400 mr-2"}):(0,r.jsx)(r.Fragment,{children:"/blog/blog-4.jpg"!==t.url?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Cambiar imagen"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"w-5 h-5 mr-2 text-purple-400"}),(0,r.jsx)("span",{className:"text-sm",children:"Seleccionar imagen"})]})}),(0,r.jsx)("input",{type:"file",accept:"image/*",name:"public_image".concat(t.id),className:"hidden",onChange:eg,disabled:p})]}),(0,r.jsx)("button",{type:"button",onClick:2==t.id?e.onDeleteBodyFile1:e.onDeleteBodyFile2,className:"ml-2 p-2 rounded-full hover:bg-red-100",title:t.title,children:(0,r.jsx)(x.A,{className:"w-5 h-5 text-red-500"})})]})]})]},a))})]})]})]}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-teal-600 to-teal-800 text-white p-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," - Todos los derechos reservados"]})})]})}var f=a(60100),j=a(22046),y=a(59119),N=a(24752),w=a.n(N),_=a(35695),v=a(79971),k=a(11145);let S=()=>{let e=(0,_.useRouter)(),[t,a]=(0,l.useState)(!1),[s,o]=(0,l.useState)(""),[i,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[g,h]=(0,l.useState)(""),[b,N]=(0,l.useState)(""),[S,A]=(0,l.useState)(""),[F,B]=(0,l.useState)(null),[C,E]=(0,l.useState)(null),[V,D]=(0,l.useState)(null),[O,T]=(0,l.useState)(null),[z,I]=(0,l.useState)(null),[L,H]=(0,l.useState)(null),[K,M]=(0,l.useState)(null),[R,G]=(0,l.useState)(null),[P,U]=(0,l.useState)(null),[q,J]=(0,l.useState)(null),[W,Y]=(0,l.useState)({titulo:"",texto1:"",texto2:"",texto3:"",texto4:"",texto5:""}),[Q,X]=(0,l.useState)([]),[Z,$]=(0,l.useState)({}),[ee,et]=(0,l.useState)({}),[ea,er]=(0,l.useState)(null),el=(0,_.useSearchParams)().get("id_blog"),[es,eo]=(0,l.useState)(!0),[ei,en]=(0,l.useState)(null),ec=(0,v.getCookie)("empleado")?JSON.parse((0,v.getCookie)("empleado")).id_empleado:-1,[ed,em]=(0,l.useState)(!1),[eu,ex]=(0,l.useState)(!1),[eg,eh]=(0,l.useState)(!1),[eb,ep]=(0,l.useState)(!1);async function ef(){try{eo(!0);let e=await k.A.fetchBlogById(el);if(e){G(e);let t=await k.A.fetchBlogHead(e.id_blog_head);if(t)o(t.public_image),U(t);else{en("No se pudo cargar la informacion del encabezado"),await w().fire({title:"Error",text:"No se pudo cargar la informacion del encabezado",icon:"error",confirmButtonText:"OK"});return}let a=await k.A.fetchBlogBodyById(e.id_blog_body);if(a)n(a.public_image1),d(a.public_image2),x(a.public_image3),J(a),et({titulo:a.titulo,descripcion:a.descripcion,public_image1:a.public_image1,url_image1:a.url_image1}),X(Array.isArray(a.tarjetas)?a.tarjetas:[]),Y({titulo:a.commend_tarjeta.titulo||"",texto1:a.commend_tarjeta.texto1||"",texto2:a.commend_tarjeta.texto2||"",texto3:a.commend_tarjeta.texto3||"",texto4:a.commend_tarjeta.texto4||"",texto5:a.commend_tarjeta.texto5||""}),$({public_image2:a.public_image2,public_image3:a.public_image3});else{en("No se pudo cargar la informacion del body"),await w().fire({title:"Error",text:"No se pudo cargar la informacion del body",icon:"error",confirmButtonText:"OK"});return}let r=await k.A.fetchBlogFooter(e.id_blog_footer);if(r)h(r.public_image1),N(r.public_image2),A(r.public_image3),er(r),console.log("Footer: ",r),console.log("Data: ",ea);else{en("No se pudo cargar la informacion del footer"),await w().fire({title:"Error",text:"No se pudo cargar la informacion del footer",icon:"error",confirmButtonText:"OK"});return}console.log("DataFooter: ",ea),console.log("Header: ",P),console.log("Body: ",q),console.log("Commend Tarjeta: ",W),console.log("Info Body: ",Q),console.log("Encabezado Body: ",ee)}else{en("No se pudo cargar el contenido principal del blog"),console.log("No hay contenido en nada :v"),await w().fire({title:"Error",text:"Ocurri\xf3 un error inesperado.",icon:"error",confirmButtonText:"OK"});return}}catch(e){console.log("Error al guardar: ",e),w().fire({title:"Error",text:"Ocurri\xf3 un error inesperado.",icon:"error",confirmButtonText:"OK"})}finally{eo(!1)}}async function ej(){let e=await k.A.updateHeader(P.id_blog_head,P);return e&&e>0?e:(w().fire({title:"Error",text:"No se pudo guardar el encabezado",icon:"error",confirmButtonText:"OK"}),"error")}async function ey(){let e=await k.A.updateFooter(ea.id_blog_footer,ea);return e&&e>0?e:(w().fire({title:"Error",text:"No se pudo guardar el pie de p\xe1gina",icon:"error",confirmButtonText:"OK"}),"error")}async function eN(){let e={titulo:ee.titulo,descripcion:ee.descripcion,id_commend_tarjeta:q.id_commend_tarjeta,public_image1:ee.public_image1,url_image1:ee.url_image1,public_image2:Z.public_image2,url_image2:Z.url_image2,public_image3:Z.public_image3,url_image3:Z.url_image3},t=await k.A.updateBody(q.id_blog_body,e);return t&&t>0?t:(w().fire({title:"Error",text:"No se pudo guardar el contenido",icon:"error",confirmButtonText:"OK"}),"error")}async function ew(){let e={titulo:W.titulo,texto1:W.texto1,texto2:W.texto2,texto3:W.texto3,texto4:W.texto4,texto5:W.texto5},t=await k.A.updateCommendTarjeta(q.id_commend_tarjeta,e);return t&&t>0?t:(w().fire({title:"Error",text:"No se pudo guardar la tarjeta de comentarios",icon:"error",confirmButtonText:"OK"}),"error")}async function e_(){let e={id_blog_head:R.id_blog_head,id_blog_footer:R.id_blog_footer,id_blog_body:R.id_blog_body,fecha:R.fecha},t=await k.A.updateBlog(R.id_blog,e);return t&&t>0?t:(w().fire({title:"Error",text:"No se actualizar guardar el blog",icon:"error",confirmButtonText:"OK"}),"error")}async function ev(e){let t={id_blog:R.id_blog,titulo:P.titulo,descripcion:P.texto_descripcion,public_image:P.public_image,url_image:P.url_image,id_plantilla:2,id_empleado:e};console.log("Form Card: ",t);let a=await k.A.updateCard(R.card.id_card,t);return a&&a>0?(console.log("Id del card:",a),a):(w().fire({title:"Error",text:"No se pudo guardar la tarjeta",icon:"error",confirmButtonText:"OK"}),"error")}async function ek(){try{return await Promise.all(Q.map(async e=>{let t={id_blog_body:q.id_blog_body,titulo:e.titulo,descripcion:e.descripcion},a=await k.A.updateTarjeta(e.id_tarjeta,t);if(!a||a<=0)throw Error("Error al guardar tarjeta");return a})),"succes"}catch(e){return w().fire({title:"Error",text:"No se pudo guardar una o m\xe1s tarjetas",icon:"error",confirmButtonText:"OK"}),"error"}}async function eS(e,t){let a=await e();if(!a||"error"===a)throw w().fire({title:"Error",text:t,icon:"error",confirmButtonText:"OK"}),Error(t);return a}async function eA(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(!e)return;let r=new FormData;r.append("file",e),a&&r.append("name",a);let l=await k.A.saveImage(r,t);if(200===l.status||201===l.status)return B(null),"ok";throw Error("Error al subir la imagen")}catch(e){console.log(e)}}async function eF(){try{a(!0),await eS(ew,"No se pudo guardar la tarjeta de comentarios"),await eS(eN,"No se pudo guardar el contenido del blog"),await eS(ek,"No se pudo guardar las tarjetas informativas"),await eS(ej,"No se pudo guardar el encabezado"),await eS(ey,"No se pudo guardar el pie de p\xe1gina"),await eS(e_,"No se pudo guardar el blog"),await eS(()=>ev(ec),"No se pudo guardar la card"),F&&await eS(()=>eA(F,"card/blog/image_head/".concat(R.card.id_card)),"No se pudo guardar la imagen"),C&&await eS(()=>eA(C,"card/blog/images_body/".concat(R.card.id_card),"image1"),"No se pudo guardar la imagen"),V&&await eS(()=>eA(V,"card/blog/images_body/".concat(R.card.id_card),"image2"),"No se pudo guardar la imagen"),O&&await eS(()=>eA(O,"card/blog/images_body/".concat(R.card.id_card),"image3"),"No se pudo guardar la imagen"),z&&await eS(()=>eA(z,"card/blog/images_footer/".concat(R.card.id_card),"image1"),"No se pudo guardar la imagen"),L&&await eS(()=>eA(L,"card/blog/images_footer/".concat(R.card.id_card),"image2"),"No se pudo guardar la imagen"),K&&await eS(()=>eA(K,"card/blog/images_footer/".concat(R.card.id_card),"image3"),"No se pudo guardar la imagen"),w().fire({title:"Actualizado Correctamente",text:"\xa1Podr\xe1s ver tu blog en la secci\xf3n de blogs de la p\xe1gina principal!",icon:"success"}),e.push("/dashboard/blogs/"),d(""),x(""),h(""),N(""),A(""),o(""),n(""),J(null),er(null),U(null),G(null),B(null),E(null),D(null),T(null),I(null),H(null),M(null)}catch(e){console.error("Error al guardar:",e.message)}finally{a(!1)}}return(0,l.useEffect)(()=>{ep(ed&&eg&&eu)},[ed,eg,eu]),(0,l.useEffect)(()=>{ef()},[el]),((0,l.useEffect)(()=>{document.querySelectorAll("#header, #body, #footer").forEach(e=>{e.style.scrollMargin="50px","body"===e.id&&e.clientHeight<300&&(e.style.minHeight="300px")})},[]),es)?(0,r.jsxs)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:[(0,r.jsx)(u.A,{className:"h-12 w-12 text-gray-700 animate-spin"}),(0,r.jsx)("p",{className:"text-gray-700 ml-3",children:"Cargando blog..."})]}):ei?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-3",children:ei}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"No pudimos cargar el contenido del blog. Por favor, intenta nuevamente."}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Reintentar"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"header",className:"section-container mb-8",children:(0,r.jsx)(j.A,{dataHeader:P,setFormData:U,setFile:B,onDeleteImage:()=>{B(null),U(e=>({...e,public_image:s,url_image:""}))},setValidacionHeader:em})}),(0,r.jsx)("div",{id:"body",className:"section-container my-8 bg-gradient-to-r text-black w-full",children:(0,r.jsx)(p,{formCommendBody:W,setFormCommendBody:Y,formInfoBody:Q,setFormInfoBody:X,formGaleryBody:Z,setFormGaleryBody:$,setFileBodyHeader:E,onDeleteBodyHeaderImage:()=>{E(null),$(e=>({...e,public_image1:i,url_image1:""}))},setFileBodyFile1:D,onDeleteBodyFile1:()=>{D(null),$(e=>({...e,public_image2:c,url_image2:""}))},setFileBodyFile2:T,onDeleteBodyFile2:()=>{T(null),$(e=>({...e,public_image3:m,url_image3:""}))},formEncabezadoBody:ee,setFormEncabezadoBody:et,setValidacionBody:ex})}),(0,r.jsx)("div",{id:"footer",className:"section-container mt-8",children:(0,r.jsx)(f.A,{formFooter:ea,setFormData:er,setFileFooterFile1:I,onDeleteFooterFile1:()=>{I(null),er(e=>({...e,public_image1:g,url_image1:""}))},setFileFooterFile2:H,onDeleteFooterFile2:()=>{H(null),er(e=>({...e,public_image2:b,url_image2:""}))},setFileFooterFile3:M,onDeleteFooterFile3:()=>{M(null),er(e=>({...e,public_image3:S,url_image3:""}))},setValidacionFooter:eh})}),(0,r.jsx)("div",{className:"bottom-0 left-0 fixed p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:(0,r.jsx)("button",{onClick:eF,disabled:t||eb,className:"text-white rounded-xl flex items-center justify-center w-full transition-all duration-300 px-5 py-3 shadow-lg shadow-emerald-900/20 ".concat(t?"bg-emerald-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500"),children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4 text-blue-950"}),"Guardar Cambios"]})})})]})},A=()=>(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen text-gray-700",children:"Cargando..."}),children:(0,r.jsx)(S,{})})},54990:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("BookType",[["path",{d:"M10 13h4",key:"ytezjc"}],["path",{d:"M12 6v7",key:"1f6ttz"}],["path",{d:"M16 8V6H8v2",key:"x8j6u4"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},72750:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Clock1",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 14.5 8",key:"12zbmj"}]])},73181:(e,t,a)=>{Promise.resolve().then(a.bind(a,42306))}},e=>{var t=t=>e(e.s=t);e.O(0,[8320,6815,9641,3464,8776,8441,1684,7358],()=>t(73181)),_N_E=e.O()}]);